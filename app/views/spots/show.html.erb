
 <div class="fondo-show-spot">
 <div class="container">
  <div class =" show-card d-flex justify-content-between">
    <div class ="mt-3 ">
      <h1><%= @spot.name.capitalize %></h1>
      <% result = @spot.loc.nil? ? nil :@spot.loc.split(",") %>
      <p>(<%= VotedSpot.count_by_spot_id(@spot.id) %> votes) | <strong><%= result[-1] unless result.nil? %>,
      <%= result[-3] unless result.nil? %></strong></p>
    </div>
    <div class="mt-3 w-20">
      <div class="d-flex justify-content-end">
        <%= link_to "Add a Posts", "#", style:"background-color: #466a8e; color: white; padding: 7px; border-radius: 5px;"%>
      </div>
      <hr>
      <div class="d-flex justify-content-around">
        <% if VotedSpot.exists_by_user_and_spot(current_user.id,@spot.id).empty?%>
          <%= link_to "Vote ", spot_voted_spots_path(@spot),method: "post", style:"background-color: #466a8e; color: white; padding: 7px; border-radius: 5px;"%>
        <% end %>
        <% if LikedSpot.exists_by_user_and_spot(current_user.id,@spot.id).empty?%>
          <%= link_to "Add to Favourite", spot_liked_spots_path(@spot),method: "post", style:"background-color: #466a8e; color: white; padding: 7px; border-radius: 5px;"%>
        <% end %>
      </div>
    </div>
  </div>


  <% images = @spot.images.map {|image| image.key} %>
  <% images_processed = []%>
  <% until images.empty? %>
    <% random = rand(1..3) %>
    <% images_processed.push(images.slice(0,random)) %>
    <% images = images.drop(random) %>
  <% end %>
  <div class="row-grid">
    <% images_processed.each do |slice| %>
      <div class="column-grid" style="max-width: <%= 100/images_processed.length%>%">
        <% slice.each do |image| %>
                   <%= cl_image_tag image, width: 200, height: 150, crop: :fit, :style =>"width:100%"%>
        <% end %>
      </div>
    <% end %>

  </div>

  <div>
    <div>
      <h3 style="margin-top: 20px; ">Description</h3>
      <div class="d-flex ">
        <div style="width: 100px; border-bottom: 1px solid black; margin-bottom: 15px"></div>
      </div>
    </div>

    <%= @spot.description%> <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum rerum sapiente quidem suscipit nobis, dolorum vel aliquam animi ad deleniti aliquid sequi, non, nesciunt nisi autem asperiores molestiae velit! Mollitia.</p>
  </div>

 </div>
</div>

<div class="container">
  <div>
    <div>
      <h3 style="margin-top: 20px;">Captures</h3>
      <div class="d-flex ">
        <div style="width: 100px; border-bottom: 1px solid black; margin-bottom: 15px"></div>
      </div>
    </div >


    <%= render "shared/vertical_scrollbar", :array => @spot.catch_spots, :vh => "vh-40" %>



  </div>

  <div>
    <div>
      <h3 style="margin-top: 20px; ">Baits</h3>
      <div class="d-flex ">
        <div style="width: 100px; border-bottom: 1px solid black; margin-bottom: 15px"></div>
      </div>
    </div>

    <%= render "shared/horizontal_scrollbar2", :array => Bait.from_spot_id(@spot.id) %>
 </div>



  <div>
    <div>
      <h3 style="margin-top: 20px; ">Posts</h3>
      <div class="d-flex ">
        <div style="width: 100px; border-bottom: 1px solid black; margin-bottom: 15px"></div>
      </div>

       <div class="carrousel">
        <div class="grande">
          <div class="post">
            <% @posts.each do |post| %>
             <%= cl_image_tag post.image.key, crop: :fit, :class => "" %>
            <div>
              <h5><%= post.title %></h5>
              <p><%= post.body %></p>
            </div>
            <% end %>
           </div>

           <div>
             <ul class="puntos">
               <li class="punto activo"></li>
               <li class="punto"></li>
             </ul>
           </div>
        </div>
      </div>
    </div>



  <%= link_to "new post", new_spot_post_path(@spot)%>
</div>
